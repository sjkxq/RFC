# Core 模块功能实现方案

## 1. 模块概述
core模块是RPC框架的核心实现，负责：
- RPC调用核心流程
- 服务注册与发现
- 负载均衡
- 容错机制

## 2. 核心功能实现

### 2.1 服务注册与发现
- 使用Zookeeper作为注册中心
- 服务注册流程：
  1. 服务启动时向ZK注册服务信息
  2. 创建临时节点保存服务元数据
  3. 定期心跳维持节点存活

### 2.2 RPC调用流程
1. 客户端代理生成
2. 序列化请求参数
3. 网络传输
4. 服务端处理
5. 结果返回

### 2.3 负载均衡策略
- 随机算法
- 轮询算法
- 一致性哈希
- 最小连接数

### 2.4 容错机制
- Failover(失败自动切换)
- Failfast(快速失败)
- Failsafe(安全失败)

## 3. 关键类说明
- `ServiceRegistry`: 服务注册实现
- `ServiceDiscovery`: 服务发现实现
- `RpcClient`: RPC客户端核心
- `RpcServer`: RPC服务端核心